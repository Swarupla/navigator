(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([["src_modules_chat-interface_journey_journey_module_ts"],{67745:(u,v,o)=>{"use strict";o.r(v),o.d(v,{JourneyModule:()=>f});var d=o(65879),p=o(96814),l=o(4828);var g,C=o(39381),R=o.n(C),b=o(69014),O=o(84979);let h=((g=class{constructor(e,t,r){this.router=e,this.route=t,this.chatInterfaceService=r,this.selectedTab="navigation-guided-journey",this.authObj=O.T}ngOnInit(){window.scroll(0,0),this.route.params.subscribe(e=>{this.selectedTab=e.section}),document.getElementById("header-container").style.backgroundColor="#1e1e1e"}ngOnDestroy(){document.getElementById("header-container").style.backgroundColor="transparent"}goToTab(e){this.router.navigateByUrl("/chat-interface/journey/"+e)}}).ctorParameters=()=>[{type:l.F0},{type:l.gz},{type:b.g}],g);h=function(i,e,t,r){var s,a=arguments.length,n=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(s=i[c])&&(n=(a<3?s(n):a>3?s(e,t,n):s(e,t))||n);return a>3&&n&&Object.defineProperty(e,t,n),n}([(0,d.wA2)({selector:"app-journey-layout",template:'<div class="c-chat-panel__extra-wrapper " [class.-shrink-right]="chatInterfaceService.rightMenuSelectedName==\'guidedjourney\' || chatInterfaceService.rightMenuSelectedName==\'comment\'|| (!authObj.manualPanelClose)">\r\n    \x3c!-- Chat component starts here --\x3e\r\n    <div class="c-chat">\r\n        <div class="c-chat-tabs">\r\n            <div class="c-chat-tabs__tab">\r\n                <div class="c-chat-tabs__tab-wrapper">\r\n                    <ul class="c-chat-tabs__tab-tabbing">\r\n                        <li class="c-chat-tabs__tab-tabbing-item" [class.-active]="selectedTab==\'navigation-guided-journey\'" (click)="goToTab(\'navigation-guided-journey\')">\r\n                            <span class="c-chat-tabs__tab-tabbing-item-title">Guided Decisions</span>\r\n                        </li>\r\n                        \x3c!-- <li class="c-chat-tabs__tab-tabbing-item " [class.-active]="selectedTab==\'conversation-template\'"  (click)="goToTab(\'conversation-template\')">\r\n                            <span class="c-chat-tabs__tab-tabbing-item-title">Conversation Template</span>\r\n                        </li>\r\n                        <li class="c-chat-tabs__tab-tabbing-item" [class.-active]="selectedTab==\'spotlight\'" (click)="goToTab(\'spotlight\')">\r\n                            <span class="c-chat-tabs__tab-tabbing-item-title">Spotlight</span>\r\n                        </li> --\x3e\r\n                    </ul>\r\n                    <app-navigation-guided-journey *ngIf="selectedTab==\'navigation-guided-journey\'"></app-navigation-guided-journey>\r\n                   \r\n              \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \x3c!-- Chat component ends here --\x3e\r\n</div>',styles:[R()]})],h);const S=[{path:":section",component:h}];let _=class{};_=function(i,e,t,r){var s,a=arguments.length,n=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(s=i[c])&&(n=(a<3?s(n):a>3?s(e,t,n):s(e,t))||n);return a>3&&n&&Object.defineProperty(e,t,n),n}([(0,d.LVF)({imports:[l.Bz.forChild(S)],exports:[l.Bz]})],_);var y,D=o(82386),w=o.n(D),x=o(8670),A=o(98319);let m=((y=class{constructor(e,t,r){this.router=e,this.chatInterfaceService=t,this.overlay=r,this.industryUId="",this.journeys=[],this.isLoading=!1}ngOnInit(){this.getIndustryDetails(),this.chatInterfaceService.chatTitle="",this.industryUId&&this.getJourneys()}getIndustryDetails(){let e=JSON.parse(localStorage.getItem("ClientWorkspace"));this.industryUId=(null==e?void 0:e.industryUID)||""}goToConversationGuidedJourney(e){this.router.navigateByUrl("chat-interface/decision-tree/"+this.encodecustomURIComponent(e.journeyName))}encodecustomURIComponent(e){return encodeURIComponent(e).replace(/[-_.!~*'()/&,]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}getJourneys(){this.isLoading=!0,this.chatInterfaceService.getJourneys({industryUId:this.industryUId}).subscribe(e=>{200===e.statusCode&&e.responseData&&Array.isArray(e.responseData)?this.journeys=e.responseData:this.journeys=[],this.isLoading=!1},e=>{this.isLoading=!1})}descPopup(e){let t={title:e.journeyDisplayName,description:e.journeyDescription};const r=this.overlay.open({component:A.K,data:t,position:"center",options:{hasBackdrop:!0,preventBackdropClick:!0,backdropClass:["visible"],closePrevious:!1}});return new Promise(a=>{r.afterClosed.subscribe(({data:n})=>{})})}}).ctorParameters=()=>[{type:l.F0},{type:b.g},{type:x.b}],y);m=function(i,e,t,r){var s,a=arguments.length,n=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(s=i[c])&&(n=(a<3?s(n):a>3?s(e,t,n):s(e,t))||n);return a>3&&n&&Object.defineProperty(e,t,n),n}([(0,d.wA2)({selector:"app-navigation-guided-journey",template:'<app-spinner *ngIf="isLoading"></app-spinner>\r\n<div class="c-chat-tabs__tab-content-box -active" id="conversation-template">\r\n  <div class="c-chat-tabs__tab-content-box-inner">\r\n    <div class="c-chat-tabs__tab-conversation-template-content">\r\n      <ng-container  *ngFor="let journey of journeys">\r\n      <div class="c-conversation-template-card cursor-pointer" *ngIf="!journey.isBusinessCase" (click)="goToConversationGuidedJourney(journey)">\r\n        <div class="c-conversation-template-card__wrapper" >\r\n          <div class="c-conversation-template-card__header">\r\n            <div class="c-conversation-template-card__heading-text" [title]="journey.journeyDisplayName">\r\n              {{journey.journeyDisplayName}}\r\n            </div>\r\n            <div class="c-conversation-template-card__header-link" *ngIf="journey?.isTrending">\r\n              <i class="icon-trending-chart"></i>Trending\r\n            </div>\r\n          </div>\r\n          <div class="c-conversation-template-card__content"></div>\r\n          <a class="c-conversation-template-card__know-more" *ngIf="journey.journeyDescription">\r\n            <span class="cursor-pointer" (click)="$event.stopPropagation();descPopup(journey)">Know More<i class="icon-arrow"></i></span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </ng-container>\r\n      \x3c!-- <div class="c-conversation-template-card cursor-default">\r\n        <div class="c-conversation-template-card__wrapper">\r\n          <div class="c-conversation-template-card__header">\r\n            <div class="c-conversation-template-card__heading-text">\r\n              Create DPinaBox Journey\r\n            </div>\r\n            <div class="c-conversation-template-card__header-link">\r\n              <i class="icon-trending-chart"></i>Trending\r\n            </div>\r\n          </div>\r\n          <div class="c-conversation-template-card__content"></div>\r\n          <a class="c-conversation-template-card__know-more cursor-default">\r\n            Know More<i class="icon-arrow"></i>\r\n          </a>\r\n        </div>\r\n      </div> --\x3e\r\n    </div>\r\n  </div>\r\n</div>\r\n',styles:[w()]})],m);var L=o(46717);let f=class{};f=function(i,e,t,r){var s,a=arguments.length,n=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(s=i[c])&&(n=(a<3?s(n):a>3?s(e,t,n):s(e,t))||n);return a>3&&n&&Object.defineProperty(e,t,n),n}([(0,d.LVF)({declarations:[h,m],imports:[p.ez,_,L.m]})],f)},39381:(u,v,o)=>{var d=o(34969),l=o(71451)(d);l.push([u.id,".c-chat-tabs__tab-tabbing-item {\n    cursor: default;\n}",""]),u.exports=l.toString()},82386:(u,v,o)=>{var d=o(34969),l=o(71451)(d);l.push([u.id,"::ng-deep .-shrink .c-conversation-template-card__heading-text {\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    height:auto;\n    /*white-space: nowrap;*/\n  }\n\n  .c-conversation-template-card__header {\n    height: 35px;\n}\n.c-conversation-template-card__heading-text {\n    min-height: unset;\n    width: 100%;\n    display: -webkit-box;\n    text-align: left;\n    word-break: break-word;\n    font-size: 14px;\n    -webkit-line-clamp: 3;\n    overflow: hidden;\n    -webkit-box-orient: vertical;\n}",""]),u.exports=l.toString()}}]);